<html>
<head>
	<title>Here Say</title>
	<!--jquery-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<!--leaflet-->
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
	<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
	<!--jQuery CSV plugin-->
	<script src="js/jquery.csv-0.71.min.js"></script>
	<!--my style sheet-->
	<link rel="stylesheet" type="text/css" href="css/style.css">

</head>
<body>
	<div class="container">
		<div id="title" class="absolute">
			Here Say - Map
		</div>
		<div id="info" class="absolute">
			<ul id="list"></ul>
			<p>Here's some information</p>
		</div>
		<div id="map"></div>
	</div>
	

</body>

<script type="text/javascript">

	var map = L.map('map').setView([38.946286, -92.328677], 6);

	L.tileLayer('http://{s}.tile.openstreetmap.com/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
			subdomians: 'abcd',
			minZoom:0,
			maxZoom:20
	}).addTo(map);

	var marker = L.marker([38.946286, -92.328677], {
					title: 'Hello!'
				 }).addTo(map);


	$.get('data.csv', function(data) {

		var my_csv = $.csv.toObjects(data);

		for (var i=0; i<my_csv.length; i++) {

			var lat = my_csv[i].lat;
			var lon = my_csv[i].lon;

			var marker = L.marker([lat, lon], {
						title: my_csv[i].plant
					 }).addTo(map);
		
			marker.on('click', function(e) {
				var text = this.options.title;
				var my_html = '<li class="list_item">'+text+'</li>';
				$('#list').html(my_html);
			});
			
		}

	});

</script>
</html>
















